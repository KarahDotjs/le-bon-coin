import{t as V,r as R,c as B,a as x,s as I,b as m,d as k,w as L,_ as N,o as S,e as $,f as b,g as e,h as A,i as w,j as g,k as f,l as y,m as D,n as p}from"./index-svX5l-0v.js";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const O=()=>{};function T(...r){if(r.length!==1)return V(...r);const u=r[0];return typeof u=="function"?R(B(()=>({get:u,set:O}))):x(u)}function j(r,u){const a=I(_()),d=T(r),i=m({get(){var s;let l=d.value.indexOf(a.value);return l<0&&(l=(s=void 0)!=null?s:0),l},set(s){n(s)}});function n(s){const c=d.value,l=c.length,C=(s%l+l)%l,h=c[C];return a.value=h,h}function t(s=1){return n(i.value+s)}function o(s=1){return t(s)}function v(s=1){return t(-s)}function _(){var s,c;return(c=k((s=void 0)!=null?s:k(r)[0]))!=null?c:void 0}return L(d,()=>n(i.value)),{state:a,index:i,next:o,prev:v,go:n}}const G={key:0,class:"container"},M={key:1,class:"container"},P={class:"leftCol"},W={class:"caroussel"},z=["src"],E={class:"title"},q={class:"price"},F={class:"dateInfos"},H={class:"descBloc"},J={class:"rightCol ownerInfos"},K={class:"owner"},Q=["src"],U={class:"identity"},X={__name:"OfferView",props:{id:String},setup(r){const u=r,a=x(null);S(async()=>{try{const{data:n}=await $.get(`https://site--strapileboncoin--2m8zk47gvydr.code.run/api/offers/${u.id}?populate[0]=pictures&populate[1]=owner.avatar
       `);console.log("Response offerview >>>",n.data.attributes.owner.data.attributes.avatar.data.attributes.url),a.value=n.data}catch(n){console.log("catch offerView >>>",n)}});const d=m(()=>a.value.attributes.publishedAt.split("T")[0].split("-").reverse().join("/")),i=m(()=>{if(a.value.attributes.pictures.data){const{state:n,next:t,prev:o}=j(a.value.attributes.pictures.data);return{state:n,next:t,prev:o}}else return{}});return(n,t)=>{var v,_;const o=D("font-awesome-icon");return p(),b("main",null,[a.value===null?(p(),b("p",G,"Chargement en cours ...")):(p(),b("div",M,[e("div",P,[e("div",W,[((v=a.value.attributes.pictures.data)==null?void 0:v.length)<=1?(p(),A(o,{key:0,icon:["fas","angle-left"],onClick:t[0]||(t[0]=s=>i.value.prev())})):w("",!0),((_=a.value.attributes.pictures.data)==null?void 0:_.length)<=1?(p(),b("img",{key:1,src:i.value.state.value.attributes.url,alt:"",onClick:t[1]||(t[1]=s=>i.value.next())},null,8,z)):w("",!0),g(o,{icon:["fas","angle-right"]})]),e("p",E,f(a.value.attributes.title),1),e("p",q,f(a.value.attributes.price)+" €",1),e("p",F,f(d.value),1),e("div",H,[t[2]||(t[2]=e("h2",null,"Description",-1)),e("p",null,f(a.value.attributes.description),1)]),g(o,{icon:["fas","map-marker-alt"]}),t[3]||(t[3]=e("span",{class:"city"}," Agon-Coutainville (50230) ",-1))]),e("div",J,[e("div",K,[e("div",null,[e("img",{src:a.value.attributes.owner.data.attributes.avatar.data.attributes.url,alt:""},null,8,Q),e("p",null,f(a.value.attributes.owner.data.attributes.username),1)]),e("p",U,[g(o,{icon:["fas","check-double"]}),t[4]||(t[4]=y(" Pièce d’identité vérifiée "))]),e("p",null,[g(o,{icon:["far","clock"]}),t[5]||(t[5]=y(" Répond généralement en 1 heure"))])]),t[6]||(t[6]=e("div",{class:"buttonPart"},[e("button",null,"Acheter"),e("button",null,"Message")],-1))])]))])}}},Z=N(X,[["__scopeId","data-v-994d2765"]]);export{Z as default};
